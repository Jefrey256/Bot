# 🌟 WaLib - Potencialize sua Automação no WhatsApp! 🌟

**WaLib** é uma biblioteca TypeScript/JavaScript de alto nível, baseada na [Baileys](https://github.com/whiskeysockets/Baileys), desenvolvida pela **Cognima Team** para revolucionar a interação com a API do WhatsApp Web. Com WebSockets, suporte multi-dispositivos e funcionalidades exclusivas, WaLib é a escolha ideal para chatbots, automações e integrações avançadas.

> ⚠️ **Aviso Importante**: WaLib não é afiliada ao WhatsApp. Use com responsabilidade, respeitando os [Termos de Serviço do WhatsApp](https://www.whatsapp.com/legal/). Evite spam ou uso indevido para não arriscar banimentos.

---

## 🚀 Funcionalidades Incríveis

WaLib combina a robustez da Baileys com recursos exclusivos:

- 🔄 **Reconexão com QR**: Restaure conexões rapidamente escaneando um código QR, mesmo após desconexões.
- 📋 **Mensagens Interativas**: Envie mensagens com **botões** e **listas** para criar experiências dinâmicas e envolventes.
- 📢 **Canais (Newsletter)**: Envie textos ou mídias (imagens, vídeos, arquivos) para canais do WhatsApp, ideal para anúncios em massa.
- 🔗 **Suporte a @lid**: Integração com Linkable ID para contas de negócios e setups multi-dispositivos.

---

## 🛠️ Instalação

Comece em minutos com npm ou yarn. Requer **Node.js 20+**.

```
npm install @cognima/walib
# ou
yarn add @cognima/walib
```

Para exibir o QR code no terminal, instale o `qrcode-terminal`:

```
npm install qrcode-terminal
# ou
yarn add qrcode-terminal
```

---

## 🎮 Exemplo de Uso

Crie um bot interativo com este exemplo:

```
import makeWASocket, { useMultiFileAuthState } from '@cognima/walib';

async function startWaLib() {
  const { state, saveCreds } = await useMultiFileAuthState('walib_auth');
  const sock = makeWASocket({
    auth: state,
    printQRInTerminal: true,
    browser: ['WaLibBot', 'Chrome', '1.0.0'],
  });

  // 📡 Monitora atualizações de conexão
  sock.ev.on('connection.update', (update) => {
    const { connection, qr } = update;
    if (qr) console.log('🖨️ Escaneie o QR:', qr);
    if (connection === 'open') console.log('✅ Conectado ao WhatsApp!');
    if (connection === 'close') {
      console.log('🔌 Reconectando...');
      startWaLib(); // Reconexão com QR
    }
  });

  // 💾 Salva credenciais
  sock.ev.on('creds.update', saveCreds);

  // 📩 Responde a mensagens
  sock.ev.on('messages.upsert', async ({ messages }) => {
    const msg = messages[0];
    if (!msg.message) return;

    const jid = msg.key.remoteJid;
    if (msg.message.conversation === '!menu') {
      // Envia mensagem com botões
      await sock.sendMessage(jid, {
        text: 'Escolha uma opção! 🎉',
        buttons: [
          { buttonId: '1', buttonText: { displayText: 'Info' } },
          { buttonId: '2', buttonText: { displayText: 'Ajuda' } },
        ],
        footer: 'Bot by WaLib',
      });
    } else if (msg.message.conversation === '!canal') {
      // Envia para canal
      await sock.sendMessage('newsletter:123456@newsletter.whatsapp.net', {
        text: '📢 Novo anúncio no canal!',
      });
    }
  });
}

startWaLib().catch(console.error);
```

---

## ⚙️ Configurações

- **Autenticação**: Use `useMultiFileAuthState` para salvar credenciais localmente e evitar escanear o QR repetidamente.
- **QR Code**: Ative `printQRInTerminal: true` para exibir o QR no terminal. Escaneie via WhatsApp em Configurações > Aparelhos Conectados.
- **Browser**: Personalize com `browser: ['Nome', 'Navegador', 'Versão']`.
- **Logs**: Integre um logger como `pino` para monitoramento avançado.

---

## 📚 Boas Práticas

1. **Armazenamento**: WaLib não gerencia mensagens ou contatos. Use um banco de dados (ex.: MongoDB, SQLite) para persistência.
2. **Moderação**: Evite enviar mensagens em massa ou não solicitadas para proteger sua conta.
3. **Testes**: Use um número secundário para testes antes de implementar em produção.
4. **Segurança**: Proteja suas credenciais e monitore o uso da API.

---

## 🤝 Contribuição

Quer melhorar a WaLib? Entre em contato com a Cognima Team para colaborar! Junte-se ao nosso grupo de suporte no WhatsApp para discutir ideias e contribuir com o projeto.

---

## ❓ Suporte

- **Documentação Base**: Veja a [Baileys Wiki](https://baileys.wiki) para detalhes da biblioteca original.
- **Comunidade**: Participe do grupo oficial no WhatsApp: [WaLib Support](https://chat.whatsapp.com/Kx7J9UPE0R8DOcv7WGo6qP).

---

## 📜 Licença

WaLib é distribuída sob a licença **MIT**. Veja o arquivo `LICENSE` para detalhes. Use, modifique e compartilhe livremente! 🎉

---

## 🙌 Agradecimentos

- **[WhiskeySockets/Baileys](https://github.com/whiskeysockets/Baileys)** pela base sólida que tornou WaLib possível.
- **Hiudy** ([@hiudyy](https://github.com/hiudyy)), fundador da Cognima Team, por liderar e inspirar este projeto.
- À comunidade de desenvolvedores que colabora e inova.

---

> **Feito com 💖 pela [Cognima Team](https://github.com/cognima)**  
> Potencie suas automações com WaLib e conecte o mundo! 🌍